import{i as u,a as h,S as O,A as X}from"./assets/vendor-B4sZL_Dy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const i=document.querySelector(this.getAttribute("href"));i&&i.scrollIntoView({behavior:"smooth"}),m.classList.contains("is-open")&&b()})});const Y=document.querySelector(".burger-btn"),m=document.querySelector(".mobile-menu"),ee=document.querySelector(".mobile-close-btn");function j(e){e.key==="Escape"&&b()}Y.addEventListener("click",()=>{m.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",j)});ee.addEventListener("click",b);m.addEventListener("click",e=>{e.target===m&&b()});function b(){m.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",j)}const o={categories:document.querySelector(".our-furnitures__categories"),categoriesItems:document.querySelectorAll(".categories__item"),categoriesTumbs:document.querySelectorAll(".categories__thumb"),furnitures:document.querySelector(".our-furnitures__list"),loadMoreBtn:document.querySelector(".our-furnitures__load-more-btn"),modal:document.querySelector(".modal"),modalFurniture:document.querySelector(".modal-furniture"),modalCloseBtn:document.querySelector(".modal__close-btn"),spinner:document.querySelector(".loader-box")};function te(e){o.categoriesItems.forEach((t,i)=>{const n=e[i],r=t.querySelector(".categories__thumb"),s=`<p class="categories__item__name" data-id="${n._id??"1"}">${n.name}</p>`;r.insertAdjacentHTML("beforeend",s)})}function q(e){return e.map(({_id:t,name:i,images:n,price:r,color:s})=>`
            <li class="furnitures__item" data-id="${t}">
                <img class="furnitures__image" src="${n[0]}" alt="${i}" height="277"/>
                <p class="furnitures__card-title">${i}</p>
                <ul class="furnitures__colors-list furnitures__colors-list__card">${re(s)}</ul>
                <p class="furnitures__price">${r*42} грн</p>
                <button class="btn btn__furniture-details-modal furnitures__details-btn">Детальніше</button>
            </li>
        `).join("")}function z({_id:e,name:t,images:i,description:n,price:r,color:s,category:a,rate:c,sizes:l}){return`
        <div class="modal-furniture__image-list">${ie(i)}</div>
        <div class="modal-furniture__content data-id="${e}">
            <p class="modal-furniture__title">${t}</p>
            <p class="modal-furniture__category">${a.name}</p>
            <p class="modal-furniture__price">${r*42} грн</p>
            <div class="modal-furniture__rate">
                <span class="rating" data-rate="${c}">★★★★★</span>
            </div>
            <p class="modal-furniture__color-title">Колір</p>
            <ul class="furnitures__colors-list">${se(s)}</ul>
            <p class="modal-furniture__description">${n}</p>
            <p class="modal-furniture__sizes">Розміри: ${l}</p>
             <button class=" btn modal-furniture__btn" type="button" data-model-id="${e}" 
        data-color="${s&&s.length>0?s[0]:""}">
            Перейти до замовлення
        </button>
        </div>
  `}function re(e){return e.map(t=>`
            <li class="furnitures__colors">
                <div class="furnitures__colors__item" style="background-color: ${t};"></div>
            </li>
        `).join("")}function se(e){return e.map((t,i)=>`
        <li class="furnitures__colors">
            <label class="color-radio">
                <input 
                    type="radio" 
                    name="color" 
                    value="${t}" 
                    class="color-radio__input" 
                    id="color-${i}"
                >
                <span 
                    class="color-radio__circle" 
                    style="background-color: ${t};"
                ></span>
            </label>
        </li>
    `).join("")}function ie(e){return`
    <ul class="furniture-gallery">
      <li class="gallery-item big">
        <img src="${e[0]}" alt="Велике фото">
      </li>
      <li class="gallery-item small">
            <div class="gallery-item-thumb">
                <img src="${e[1]}" alt="Мале фото 1">
            </div>
            <div class="gallery-item-thumb">
                <img src="${e[2]}" alt="Мале фото 2">
            </div>
      </li>
    </ul>
  `}let g=[],V=[];const y=document.getElementById("orderModal"),ne=y.querySelector(".order-modal__overlay"),oe=y.querySelector(".order-modal__close"),p=y.querySelector(".order-modal__form");let F=null,P=null;function ae(e,t){F=e,P=t,y.classList.remove("is-hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",D)}function _(){y.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",D),document.body.classList.remove("body--no-scroll"),p.reset(),F=null,P=null}oe.addEventListener("click",_);ne.addEventListener("click",_);p.addEventListener("submit",async e=>{e.preventDefault();const t=p.email.value.trim(),i=p.phone.value.trim(),n=p.comment.value.trim();if(!t||!i){u.error({title:"Помилка",message:"Будь ласка, заповніть обов’язкові поля: пошта і телефон."});return}const r={email:t,phone:i,comment:n,modelId:F,color:P};try{const s=await fetch("https://furniture-store.b.goit.study/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const a=await s.json();u.error({title:"Помилка",message:a.message||"Сталася помилка при надсиланні заявки."});return}u.success({title:"Успішно",message:"Заявку надіслано!"}),_()}catch{u.error({title:"Помилка",message:"Не вдалося надіслати заявку. Спробуйте пізніше."})}});function D(e){e.key==="Escape"&&_()}const ce="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_602_78)'%3e%3cpath%20d='M11.907%203.02393C11.9364%203.00781%2011.9695%202.99954%2012.003%202.99993C12.0361%202.9998%2012.0686%203.00805%2012.0975%203.02393C12.1318%203.0445%2012.1599%203.07407%2012.1785%203.10943L22.464%2020.6099C22.518%2020.6999%2022.5165%2020.7959%2022.467%2020.8844C22.448%2020.9207%2022.4202%2020.9517%2022.386%2020.9744C22.3563%2020.9926%2022.3218%2021.0015%2022.287%2020.9999H1.71904C1.68422%2021.0016%201.64971%2020.9927%201.62004%2020.9744C1.58592%2020.9517%201.55807%2020.9207%201.53904%2020.8844C1.51432%2020.8428%201.50153%2020.7952%201.50206%2020.7468C1.50259%2020.6983%201.51642%2020.651%201.54204%2020.6099L11.826%203.10943C11.8448%203.07411%2011.8728%203.04456%2011.907%203.02393ZM13.473%202.34893C13.3246%202.09027%2013.1105%201.87538%2012.8524%201.72594C12.5942%201.5765%2012.3013%201.4978%2012.003%201.4978C11.7048%201.4978%2011.4118%201.5765%2011.1537%201.72594C10.8956%201.87538%2010.6815%202.09027%2010.533%202.34893L0.247541%2019.8494C-0.437959%2021.0164%200.384041%2022.4999%201.71754%2022.4999H22.287C23.6205%2022.4999%2024.444%2021.0149%2023.757%2019.8494L13.473%202.34893Z'%20fill='white'%20/%3e%3cpath%20d='M10.5031%2017.9999C10.5031%2017.8029%2010.5419%2017.6079%2010.6172%2017.4259C10.6926%2017.2439%2010.8031%2017.0786%2010.9424%2016.9393C11.0817%2016.8%2011.247%2016.6895%2011.429%2016.6141C11.611%2016.5387%2011.8061%2016.4999%2012.0031%2016.4999C12.2%2016.4999%2012.3951%2016.5387%2012.5771%2016.6141C12.7591%2016.6895%2012.9244%2016.8%2013.0637%2016.9393C13.203%2017.0786%2013.3135%2017.2439%2013.3889%2017.4259C13.4643%2017.6079%2013.5031%2017.8029%2013.5031%2017.9999C13.5031%2018.3978%2013.345%2018.7793%2013.0637%2019.0606C12.7824%2019.3419%2012.4009%2019.4999%2012.0031%2019.4999C11.6052%2019.4999%2011.2237%2019.3419%2010.9424%2019.0606C10.6611%2018.7793%2010.5031%2018.3978%2010.5031%2017.9999ZM10.6501%208.99243C10.6301%208.80319%2010.6501%208.61187%2010.7089%208.43087C10.7676%208.24988%2010.8637%208.08325%2010.991%207.94181C11.1183%207.80037%2011.2739%207.68727%2011.4478%207.60986C11.6216%207.53244%2011.8098%207.49243%2012.0001%207.49243C12.1903%207.49243%2012.3785%207.53244%2012.5523%207.60986C12.7262%207.68727%2012.8818%207.80037%2013.0091%207.94181C13.1364%208.08325%2013.2325%208.24988%2013.2913%208.43087C13.35%208.61187%2013.37%208.80319%2013.3501%208.99243L12.8251%2014.2529C12.8074%2014.4596%2012.7129%2014.6521%2012.5601%2014.7924C12.4073%2014.9327%2012.2075%2015.0105%2012.0001%2015.0105C11.7926%2015.0105%2011.5928%2014.9327%2011.44%2014.7924C11.2872%2014.6521%2011.1927%2014.4596%2011.1751%2014.2529L10.6501%208.99243Z'%20fill='white'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_602_78'%3e%3crect%20width='24'%20height='24'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",le="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_602_57)'%3e%3cpath%20d='M6.81%200.219C6.95056%200.0787966%207.14097%204.21785e-05%207.3395%200L16.6605%200C16.859%204.21785e-05%2017.0494%200.0787966%2017.19%200.219L23.781%206.81C23.9212%206.95056%2024%207.14097%2024%207.3395V16.6605C24%2016.859%2023.9212%2017.0494%2023.781%2017.19L17.19%2023.781C17.0494%2023.9212%2016.859%2024%2016.6605%2024H7.3395C7.14097%2024%206.95056%2023.9212%206.81%2023.781L0.219%2017.19C0.0787966%2017.0494%204.21785e-05%2016.859%200%2016.6605L0%207.3395C4.21785e-05%207.14097%200.0787966%206.95056%200.219%206.81L6.81%200.219ZM7.65%201.5L1.5%207.65V16.35L7.65%2022.5H16.35L22.5%2016.35V7.65L16.35%201.5H7.65Z'%20fill='%23FAFAFB'%20/%3e%3cpath%20d='M6.969%206.96912C7.03867%206.89927%207.12143%206.84386%207.21255%206.80605C7.30366%206.76824%207.40135%206.74878%207.5%206.74878C7.59865%206.74878%207.69633%206.76824%207.78745%206.80605C7.87857%206.84386%207.96133%206.89927%208.031%206.96912L12%2010.9396L15.969%206.96912C16.0387%206.89939%2016.1215%206.84407%2016.2126%206.80633C16.3037%206.7686%2016.4014%206.74917%2016.5%206.74917C16.5986%206.74917%2016.6963%206.7686%2016.7874%206.80633C16.8785%206.84407%2016.9613%206.89939%2017.031%206.96912C17.1007%207.03885%2017.156%207.12164%2017.1938%207.21274C17.2315%207.30385%2017.2509%207.4015%2017.2509%207.50012C17.2509%207.59874%2017.2315%207.69639%2017.1938%207.7875C17.156%207.8786%2017.1007%207.96139%2017.031%208.03112L13.0605%2012.0001L17.031%2015.9691C17.1007%2016.0389%2017.156%2016.1216%2017.1938%2016.2127C17.2315%2016.3039%2017.2509%2016.4015%2017.2509%2016.5001C17.2509%2016.5987%2017.2315%2016.6964%2017.1938%2016.7875C17.156%2016.8786%2017.1007%2016.9614%2017.031%2017.0311C16.9613%2017.1009%2016.8785%2017.1562%2016.7874%2017.1939C16.6963%2017.2316%2016.5986%2017.2511%2016.5%2017.2511C16.4014%2017.2511%2016.3037%2017.2316%2016.2126%2017.1939C16.1215%2017.1562%2016.0387%2017.1009%2015.969%2017.0311L12%2013.0606L8.031%2017.0311C7.96127%2017.1009%207.87848%2017.1562%207.78737%2017.1939C7.69626%2017.2316%207.59861%2017.2511%207.5%2017.2511C7.40138%2017.2511%207.30373%2017.2316%207.21262%2017.1939C7.12151%2017.1562%207.03873%2017.1009%206.969%2017.0311C6.89927%2016.9614%206.84395%2016.8786%206.80621%2016.7875C6.76847%2016.6964%206.74905%2016.5987%206.74905%2016.5001C6.74905%2016.4015%206.76847%2016.3039%206.80621%2016.2127C6.84395%2016.1216%206.89927%2016.0389%206.969%2015.9691L10.9395%2012.0001L6.969%208.03112C6.89915%207.96145%206.84374%207.87869%206.80593%207.78757C6.76812%207.69645%206.74866%207.59877%206.74866%207.50012C6.74866%207.40147%206.76812%207.30379%206.80593%207.21267C6.84374%207.12155%206.89915%207.03879%206.969%206.96912Z'%20fill='%23FAFAFB'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_602_57'%3e%3crect%20width='24'%20height='24'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function ue(){o.categoriesTumbs.forEach(e=>e.classList.remove("categories__thumb--active"))}function L(){o.spinner.classList.remove("loader-box-hidden"),I()}function C(){o.spinner.classList.add("loader-box-hidden")}function v(e){u.warning({messageColor:"#fff",iconUrl:ce,iconColor:"#ffffffff",maxWidth:"350px",position:"topRight",color:"#ffa000",message:e})}function w(e){u.error({messageColor:"#fff",iconColor:"#fff",maxWidth:"350px",iconUrl:le,position:"topRight",color:"#ef4040",message:e})}function de(){const e=document.querySelector(".furnitures__item");if(!e)return;const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}function fe(e){Number(e.page)*Number(e.limit)>=e.totalItems?I():Z()}function N(e){Number(e.page)*Number(e.limit)>=e.totalItems?(v("Усі меблі завантажено!"),I()):Z()}function Z(){o.loadMoreBtn.classList.remove("is-hidden")}function I(){o.loadMoreBtn.classList.add("is-hidden")}o.modalCloseBtn.addEventListener("click",k);o.modal.addEventListener("click",e=>{e.target===o.modal&&k()});async function pe(e){const t=e.target.closest(".furnitures__details-btn");if(!t)return;const i=t.closest(".furnitures__item");if(!i)return;document.body.classList.add("body--no-scroll");const n=i.dataset.id,r=g.find(({_id:s})=>s===n);o.modalFurniture.innerHTML=z(r),o.modal.classList.add("modal--is-open"),document.addEventListener("keydown",A),document.querySelectorAll(".rating").forEach(s=>{const c=parseFloat(s.dataset.rate)/5*100;s.style.setProperty("--rating-percent",`${c}%`)})}function k(){o.modal.classList.remove("modal--is-open"),o.modalFurniture.innerHTML="",document.removeEventListener("keydown",A),document.body.classList.remove("body--no-scroll")}function A(e){e.key==="Escape"&&k()}o.modalFurniture.addEventListener("click",e=>{const t=e.target.closest(".modal-furniture__btn");if(!t)return;document.body.classList.add("body--no-scroll");const i=t.closest(".modal-furniture").querySelector('input[name="color"]:checked');if(i){const n=t.dataset.modelId,r=i.value;ae(n,r),k()}else{v("Будь ласка, оберіть колір перед замовленням!");return}});const me=async()=>(await h.get("https://furniture-store.b.goit.study/api/categories")).data,T=async(e=1)=>(await h.get("https://furniture-store.b.goit.study/api/furnitures",{params:{limit:8,page:e}})).data,R=async(e,t=1)=>(await h.get("https://furniture-store.b.goit.study/api/furnitures",{params:{category:e,limit:8,page:t}})).data;let f=1,d=null;async function ge(e){var n;const t=e.target.closest("li");if(!t)return;const i=t.querySelector(".categories__thumb");if(!i.classList.contains("categories__thumb--active")){f=1,g.length=0,L(),ue(),i.classList.add("categories__thumb--active"),d=((n=t.querySelector(".categories__item__name"))==null?void 0:n.dataset.id)||null;try{const r=d&&d!=="1"?await R(d,f):await T(f);if(r.furnitures.length===0){v("Sorry, there are no furnitures.");return}o.furnitures.innerHTML=q(r.furnitures),g.push(...r.furnitures),fe(r)}catch(r){w(`Помилка при завантаженні меблів по категоріях: ${r}`)}finally{C()}}}async function he(){f++,L();try{const e=d&&d!=="1"?await R(d,f):await T(f);if(e.furnitures.length===0){v("Sorry, there are no furnitures.");return}o.furnitures.insertAdjacentHTML("beforeend",q(e.furnitures)),g.push(...e.furnitures),de(),N(e)}catch(e){w(`Помилка при завантаженні додаткових меблів: ${e}`)}finally{C()}}o.categories.addEventListener("click",ge);o.furnitures.addEventListener("click",pe);o.loadMoreBtn.addEventListener("click",he);async function ye(){L();try{const e=await me(),t=[{_id:1,name:"Всі товари"},...e];te(t)}catch(e){w(`Помилка при отриманні категорій: ${e}`)}finally{C()}be()}async function be(){L();try{const e=await T();g.push(...e.furnitures),o.furnitures.innerHTML=q(e.furnitures),N(e)}catch(e){w(`Помилка при отриманні меблів: ${e}`)}finally{C()}}ye();const _e=async(e=1)=>(await h.get("https://furniture-store.b.goit.study/api/feedbacks",{params:{limit:10,page:e}})).data,$=document.querySelector("#feedback-list");async function Le(){try{let s=function(a){const c=document.querySelector("#feedback-prev"),l=document.querySelector("#feedback-next");a.isBeginning?c.classList.add("disabled"):c.classList.remove("disabled"),a.isEnd?l.classList.add("disabled"):l.classList.remove("disabled")};const e=await _e(),i=((e==null?void 0:e.feedbacks)||[]).slice(0,10);if(!i.length){$.innerHTML='<li class="swiper-slide">Відгуків поки немає.</li>';return}const n=i.map(a=>`
      <li class="swiper-slide feedback-item">
        <div class="feedback-card">
          <div class="feedback-stars">
            ${Ce(a.rate)}
          </div>
          <p class="feedback-text">"${a.descr}"</p>
          <h3 class="feedback-author">${a.name}</h3>
        </div>
      </li>
    `).join("");$.innerHTML=n;const r=new O(".feedback-swiper",{loop:!1,spaceBetween:72,slidesPerView:1,breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},navigation:{nextEl:"#feedback-next",prevEl:"#feedback-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0,dynamicMainBullets:6,watchSlidesProgress:!0},on:{init(){s(this)},slideChange(){s(this)}}});r.pagination.render(),r.pagination.update()}catch(e){console.error("Помилка завантаження відгуків:",e),$.innerHTML='<li class="swiper-slide">Не вдалося завантажити відгуки.</li>'}}function Ce(e){const r=`M7.226 19.717l-2.384 10.323c-0.074 0.313-0.052 0.64 0.064 0.94s0.318 0.558 0.582 0.74
    c0.264 0.183 0.577 0.281 0.899 0.283s0.635-0.093 0.902-0.273l8.712-5.808 8.712 5.808
    c0.273 0.181 0.594 0.274 0.921 0.267s0.644-0.114 0.908-0.307c0.264-0.193 0.463-0.462 0.57-0.771
    s0.116-0.644 0.028-0.959l-2.926-10.24 7.258-6.531c0.232-0.209 0.399-0.482 0.477-0.785
    s0.068-0.622-0.033-0.918-0.285-0.556-0.532-0.749c-0.247-0.192-0.544-0.308-0.856-0.333
    l-9.122-0.726-3.947-8.738c-0.126-0.281-0.33-0.52-0.589-0.688s-0.56-0.257-0.868-0.257
    c-0.308 0-0.61 0.089-0.868 0.257s-0.463 0.407-0.589 0.688l-3.947 8.738-9.122 0.725
    c-0.306 0.024-0.599 0.136-0.844 0.323s-0.43 0.439-0.534 0.728c-0.104 0.289-0.123 0.602-0.055 0.902
    s0.223 0.573 0.443 0.788l6.742 6.571z`,s="M8.7 19.1l-1.9 8.4c-0.06 0.26-0.04 0.53 0.05 0.77s0.26 0.45 0.47 0.6c0.21 0.13 0.46 0.2 0.72 0.2s0.51-0.07 0.73-0.2l7.1-4.7 7.1 4.7c0.22 0.13 0.48 0.2 0.74 0.2s0.53-0.09 0.74-0.26c0.21-0.17 0.37-0.4 0.46-0.67s0.09-0.53 0.02-0.8l-2.3-8.5 6-5.4c0.2-0.18 0.35-0.41 0.42-0.67s0.05-0.53-0.03-0.79-0.25-0.45-0.47-0.6c-0.22-0.14-0.48-0.22-0.75-0.24l-8-0.7-3.5-7.7c-0.12-0.26-0.31-0.48-0.56-0.62s-0.53-0.23-0.82-0.23c-0.29 0-0.58 0.08-0.82 0.23s-0.44 0.34-0.56 0.62l-3.5 7.7-8 0.7c-0.27 0-0.53 0.1-0.75 0.24s-0.37 0.32-0.47 0.53c-0.1 0.21-0.12 0.43-0.05 0.65s0.18 0.4 0.36 0.55l5.5 5.3z";let a="";for(let c=1;c<=5;c++){let l=0;e>=c?l=100:e>c-1&&e<c&&(l=(e-(c-1))*100);const J=Math.random().toString(36).slice(2,8),H=`clip-star-${c}-${J}`,Q=l/100*32;a+=`
<svg class="star" width="20" height="20" viewBox="-2 -2 36 36" aria-hidden="true" focusable="false" style="vertical-align: middle; margin-right: 4px;">
        <defs>
          <clipPath id="${H}">
            <rect x="0" y="0" width="${Q}" height="32"></rect>
          </clipPath>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%" color-interpolation-filters="sRGB">
            <feDropShadow dx="0" dy="0" stdDeviation="2" flood-color="gold" flood-opacity="1"/>
          </filter>
        </defs>

        <!-- Outer glowing stroke -->
        <path d="${r}" fill="gold" stroke="gold" stroke-width="1" filter="url(#glow)" />
        <!-- Inner stroke -->
        <path d="${s}" fill="rgba(247, 244, 180, 0.94)" stroke="gold" stroke-width="1"/>
        <!-- Fill clipped -->
        <path d="${s}" fill="gold" clip-path="url(#${H})" />
        </svg>
    `}return a}Le();let S=1;const E=8;let M=!1,B=!1,x=null;async function K(e=1,t=8,i="popular"){try{const n=await h.get(`https://furniture-store.b.goit.study/api/furnitures?type=${i}&page=${e}&limit=${t}`);return V.push(...n.data.furnitures),n.data}catch(n){return u.warning({message:`Помилка запиту: ${n.message}`,position:"topCenter",timeout:3e3}),null}}function W(e){return Array.isArray(e)?e.map(t=>{var r,s;const i=((r=t.images)==null?void 0:r[1])||((s=t.images)==null?void 0:s[0])||"default.jpg",n=Array.isArray(t.color)?t.color.slice(0,3):[];return`
        <li class="furniture-card swiper-slide " data-id="${t._id}">
          <div class="furniture-card-box-img">
            <img class="furniture-card-img" src="${i}" alt="${t.name}" />
          </div>
          <div class="box__product-card-info">
            <p >${t.name}</p>
            <div class="box__color">
              ${n.map(a=>`<div class="color" style="background-color: ${a}; width: 24px; height: 24px;"></div>`).join("")}
            </div>
            <p class=" furniture-price">${t.price*42} грн</p>
          </div>
          <button class="btn__furniture-details-modal furnitures__details-btn  " type="button">Детальніше</button>
        </li>
      `}).join(""):""}function G(e){const t=document.querySelector(".swiper-wrapper");if(!t)return;t.insertAdjacentHTML("beforeend",e),x&&x.update(),t.querySelectorAll(".btn__furniture-details-modal").forEach(n=>{n.addEventListener("click",U)})}function ve(){x=new O(".mySwiper",{slidesPerView:1,spaceBetween:16,pagination:{el:".swiper-pagination",dynamicBullets:!0,clickable:!0},navigation:{nextEl:".btn-right",prevEl:".btn-left",disabledClass:"swiper-button-disabled"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:4,spaceBetween:24}}})}async function we(){const e=await K(S,E);if(!e||!e.furnitures)return;const t=W(e.furnitures);G(t),ve(),e.totalItems<=E&&(B=!0)}async function ke(){if(M||B)return;M=!0,S+=1;const e=await K(S,E);if(!e||!e.furnitures||e.furnitures.length===0){B=!0;return}const t=W(e.furnitures);G(t),M=!1}document.querySelector(".btn-right").addEventListener("click",()=>{ke()});we();const $e=document.querySelector(".swiper-wrapper");$e.addEventListener("click",U);async function U(e){const t=e.target.closest(".btn__furniture-details-modal");if(!t)return;const i=t.closest(".furniture-card");if(!i)return;document.body.classList.add("body--no-scroll");const n=i.dataset.id,r=V.find(({_id:s})=>s===n);o.modalFurniture.innerHTML=z(r),o.modal.classList.add("modal--is-open"),document.addEventListener("keydown",A),document.querySelectorAll(".rating").forEach(s=>{const c=parseFloat(s.dataset.rate)/5*100;s.style.setProperty("--rating-percent",`${c}%`)})}document.addEventListener("DOMContentLoaded",()=>{new X(".accordion-container",{duration:300,showMultiple:!1,openOnInit:[]})});
//# sourceMappingURL=index.js.map
