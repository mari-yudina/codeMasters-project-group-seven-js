{"version":3,"file":"index.js","sources":["../src/js/modal-burger.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/furniture-data.js","../src/js/order-modal.js","../src/img/icons/caution.svg","../src/img/icons/error.svg","../src/js/furnitures-helpers.js","../src/js/furniture-modal.js","../src/js/furnitures-api.js","../src/js/furnitures-handlers.js","../src/js/furniture-list.js","../src/js/feedback-api.js","../src/js/feedback.js","../src/js/popular-products.js","../src/js/faq.js"],"sourcesContent":["\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n  anchor.addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    const target = document.querySelector(this.getAttribute(\"href\"));\n    if (target) {\n      target.scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    if (mobileMenu.classList.contains(\"is-open\")) {\n      closeMobileMenu();\n    }\n  });\n});\n\nconst burgerBtn = document.querySelector(\".burger-btn\");\nconst mobileMenu = document.querySelector(\".mobile-menu\");\nconst closeBtn = document.querySelector(\".mobile-close-btn\");\n\nfunction handleEscape(e) {\n  if (e.key === \"Escape\") {\n    closeMobileMenu();\n  }\n}\n\nburgerBtn.addEventListener(\"click\", () => {\n  mobileMenu.classList.add(\"is-open\");\n  document.body.classList.add(\"no-scroll\");\n  document.addEventListener(\"keydown\", handleEscape); // додаємо тільки при відкритті\n});\n\ncloseBtn.addEventListener(\"click\", closeMobileMenu);\n\nmobileMenu.addEventListener(\"click\", e => {\n  if (e.target === mobileMenu) closeMobileMenu();\n});\n\nfunction closeMobileMenu() {\n  mobileMenu.classList.remove(\"is-open\");\n  document.body.classList.remove(\"no-scroll\");\n  document.removeEventListener(\"keydown\", handleEscape); // знімаємо при закритті\n}\n","export default {\n  categories: document.querySelector('.our-furnitures__categories'),\n  categoriesItems: document.querySelectorAll('.categories__item'),\n  categoriesTumbs: document.querySelectorAll('.categories__thumb'),\n  furnitures: document.querySelector('.our-furnitures__list'),\n  loadMoreBtn: document.querySelector('.our-furnitures__load-more-btn'),\n  //---------------modal-----------------------------------\n  modal: document.querySelector('.modal'),\n  modalFurniture: document.querySelector('.modal-furniture'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n\n  spinner: document.querySelector('.loader-box'),\n};\n","import refs from \"./refs\";\n\nexport function categoriesItemRender(arr) {\n    refs.categoriesItems.forEach((item, index) => {\n        const category = arr[index];\n        const thumb = item.querySelector('.categories__thumb');\n\n        const markup = `<p class=\"categories__item__name\" data-id=\"${category._id ?? '1'}\">${category.name}</p>`;\n        thumb.insertAdjacentHTML('beforeend', markup);\n    });\n}\n\n\n\nexport function furnituresCardMarkup(arr) {\n    return arr.map(({ _id, name, images, price, color }) =>\n        `\n            <li class=\"furnitures__item\" data-id=\"${_id}\">\n                <img class=\"furnitures__image\" src=\"${images[0]}\" alt=\"${name}\" height=\"277\"/>\n                <p class=\"furnitures__card-title\">${name}</p>\n                <ul class=\"furnitures__colors-list furnitures__colors-list__card\">${furnitureCardColorListMarkup(color)}</ul>\n                <p class=\"furnitures__price\">${price * 42} грн</p>\n                <button class=\"btn btn__furniture-details-modal furnitures__details-btn\">Детальніше</button>\n            </li>\n        `\n    ).join('');\n\n}\n\nexport function furnitureModalMarkup({ _id, name, images, description, price, color, category, rate, sizes }) {\n\n    return `\n        <div class=\"modal-furniture__image-list\">${renderFurnitureGallery(images)}</div>\n        <div class=\"modal-furniture__content data-id=\"${_id}\">\n            <p class=\"modal-furniture__title\">${name}</p>\n            <p class=\"modal-furniture__category\">${category.name}</p>\n            <p class=\"modal-furniture__price\">${price * 42} грн</p>\n            <div class=\"modal-furniture__rate\">\n                <span class=\"rating\" data-rate=\"${rate}\">★★★★★</span>\n            </div>\n            <p class=\"modal-furniture__color-title\">Колір</p>\n            <ul class=\"furnitures__colors-list\">${modalColorListMarkup(color)}</ul>\n            <p class=\"modal-furniture__description\">${description}</p>\n            <p class=\"modal-furniture__sizes\">Розміри: ${sizes}</p>\n             <button class=\" btn modal-furniture__btn\" type=\"button\" data-model-id=\"${_id}\" \n        data-color=\"${color && color.length > 0 ? color[0] : ''}\">\n            Перейти до замовлення\n        </button>\n        </div>\n  `;\n}\n\n\nfunction furnitureCardColorListMarkup(arr) {\n    return arr.map(color => `\n            <li class=\"furnitures__colors\">\n                <div class=\"furnitures__colors__item\" style=\"background-color: ${color};\"></div>\n            </li>\n        `).join('');\n}\n\n\nfunction modalColorListMarkup(arr) {\n    return arr.map((color, index) => `\n        <li class=\"furnitures__colors\">\n            <label class=\"color-radio\">\n                <input \n                    type=\"radio\" \n                    name=\"color\" \n                    value=\"${color}\" \n                    class=\"color-radio__input\" \n                    id=\"color-${index}\"\n                >\n                <span \n                    class=\"color-radio__circle\" \n                    style=\"background-color: ${color};\"\n                ></span>\n            </label>\n        </li>\n    `).join('');\n}\n\nfunction renderFurnitureGallery(images) {\n    return `\n    <ul class=\"furniture-gallery\">\n      <li class=\"gallery-item big\">\n        <img src=\"${images[0]}\" alt=\"Велике фото\">\n      </li>\n      <li class=\"gallery-item small\">\n            <div class=\"gallery-item-thumb\">\n                <img src=\"${images[1]}\" alt=\"Мале фото 1\">\n            </div>\n            <div class=\"gallery-item-thumb\">\n                <img src=\"${images[2]}\" alt=\"Мале фото 2\">\n            </div>\n      </li>\n    </ul>\n  `;\n}\n\n// {/* <li class=\"gallery-item small\">\n//         <img src=\"${images[1]}\" alt=\"Мале фото 1\">\n//       </li>\n//       <li class=\"gallery-item small\">\n//         <img src=\"${images[2]}\" alt=\"Мале фото 2\">\n//       </li> */}","export let data = [];\nexport let popularData = [];\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst modal = document.getElementById('orderModal');\nconst overlay = modal.querySelector('.order-modal__overlay');\nconst closeBtn = modal.querySelector('.order-modal__close');\nconst form = modal.querySelector('.order-modal__form');\n\nlet currentModelId = null;\nlet currentColor = null;\n\nexport function openOrderModal(modelId, color) {\n  currentModelId = modelId;\n  currentColor = color;\n\n  modal.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n  document.addEventListener(\"keydown\", handleEscKey);\n}\n\nfunction closeOrderModal() {\n  modal.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  document.removeEventListener(\"keydown\", handleEscKey);\n  document.body.classList.remove('body--no-scroll');\n\n  form.reset();\n  currentModelId = null;\n  currentColor = null;\n}\n\ncloseBtn.addEventListener('click', closeOrderModal);\noverlay.addEventListener('click', closeOrderModal);\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const email = form.email.value.trim();\n  const phone = form.phone.value.trim();\n  const comment = form.comment.value.trim();\n\n  if (!email || !phone) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Будь ласка, заповніть обов’язкові поля: пошта і телефон.',\n    });\n    return;\n  }\n\n  const data = {\n    email,\n    phone,\n    comment,\n    modelId: currentModelId,\n    color: currentColor,\n  };\n\n  try {\n    const response = await fetch(\n      'https://furniture-store.b.goit.study/api/orders',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      }\n    );\n\n    if (!response.ok) {\n      const error = await response.json();\n      iziToast.error({\n        title: 'Помилка',\n        message: error.message || 'Сталася помилка при надсиланні заявки.',\n      });\n      return;\n    }\n\n    iziToast.success({\n      title: 'Успішно',\n      message: 'Заявку надіслано!',\n    });\n\n    closeOrderModal();\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося надіслати заявку. Спробуйте пізніше.',\n    });\n  }\n});\n\nexport function handleEscKey(event) {\n  if (event.key === \"Escape\") {\n    closeOrderModal();\n  };\n}\n\n// Делегування кліку на кнопку \"Перейти до замовлення\"\n// document.addEventListener('click', e => {\n//   const btn = e.target.closest('.modal-furniture__btn');\n//   if (!btn) return;\n\n//   const modelId = btn.dataset.modelId || null;\n//   const color = btn.dataset.color || null;\n\n//   // Закриваємо меблеву модалку\n//   const openModals = document.querySelectorAll('.modal.modal--is-open');\n//   openModals.forEach(modalEl => {\n//     modalEl.classList.remove('modal--is-open');\n//     document.body.classList.remove('body--no-scroll');\n//   });\n\n//   // Відкриваємо order-modal\n//   openOrderModal(modelId, color);\n// });\n\n// window.openOrderModal = openOrderModal;\n\n// document.addEventListener('click', e => {\n//   const btn = e.target.closest('.modal-furniture__btn');\n//   if (!btn) return;\n\n//   const selectedColorInput = btn\n//     .closest('.modal-furniture')\n//     ?.querySelector('input[name=\"color\"]:checked');\n\n//   const modelId = btn.dataset.modelId || null;\n//   const color = selectedColorInput.value;\n\n//   // Закриваємо меблеву модалку\n//   document.querySelectorAll('.modal.modal--is-open').forEach(modalEl => {\n//     modalEl.classList.remove('modal--is-open');\n//     document.body.classList.remove('body--no-scroll');\n//   });\n\n//   openOrderModal(modelId, color);\n// });\n","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_602_78)'%3e%3cpath%20d='M11.907%203.02393C11.9364%203.00781%2011.9695%202.99954%2012.003%202.99993C12.0361%202.9998%2012.0686%203.00805%2012.0975%203.02393C12.1318%203.0445%2012.1599%203.07407%2012.1785%203.10943L22.464%2020.6099C22.518%2020.6999%2022.5165%2020.7959%2022.467%2020.8844C22.448%2020.9207%2022.4202%2020.9517%2022.386%2020.9744C22.3563%2020.9926%2022.3218%2021.0015%2022.287%2020.9999H1.71904C1.68422%2021.0016%201.64971%2020.9927%201.62004%2020.9744C1.58592%2020.9517%201.55807%2020.9207%201.53904%2020.8844C1.51432%2020.8428%201.50153%2020.7952%201.50206%2020.7468C1.50259%2020.6983%201.51642%2020.651%201.54204%2020.6099L11.826%203.10943C11.8448%203.07411%2011.8728%203.04456%2011.907%203.02393ZM13.473%202.34893C13.3246%202.09027%2013.1105%201.87538%2012.8524%201.72594C12.5942%201.5765%2012.3013%201.4978%2012.003%201.4978C11.7048%201.4978%2011.4118%201.5765%2011.1537%201.72594C10.8956%201.87538%2010.6815%202.09027%2010.533%202.34893L0.247541%2019.8494C-0.437959%2021.0164%200.384041%2022.4999%201.71754%2022.4999H22.287C23.6205%2022.4999%2024.444%2021.0149%2023.757%2019.8494L13.473%202.34893Z'%20fill='white'%20/%3e%3cpath%20d='M10.5031%2017.9999C10.5031%2017.8029%2010.5419%2017.6079%2010.6172%2017.4259C10.6926%2017.2439%2010.8031%2017.0786%2010.9424%2016.9393C11.0817%2016.8%2011.247%2016.6895%2011.429%2016.6141C11.611%2016.5387%2011.8061%2016.4999%2012.0031%2016.4999C12.2%2016.4999%2012.3951%2016.5387%2012.5771%2016.6141C12.7591%2016.6895%2012.9244%2016.8%2013.0637%2016.9393C13.203%2017.0786%2013.3135%2017.2439%2013.3889%2017.4259C13.4643%2017.6079%2013.5031%2017.8029%2013.5031%2017.9999C13.5031%2018.3978%2013.345%2018.7793%2013.0637%2019.0606C12.7824%2019.3419%2012.4009%2019.4999%2012.0031%2019.4999C11.6052%2019.4999%2011.2237%2019.3419%2010.9424%2019.0606C10.6611%2018.7793%2010.5031%2018.3978%2010.5031%2017.9999ZM10.6501%208.99243C10.6301%208.80319%2010.6501%208.61187%2010.7089%208.43087C10.7676%208.24988%2010.8637%208.08325%2010.991%207.94181C11.1183%207.80037%2011.2739%207.68727%2011.4478%207.60986C11.6216%207.53244%2011.8098%207.49243%2012.0001%207.49243C12.1903%207.49243%2012.3785%207.53244%2012.5523%207.60986C12.7262%207.68727%2012.8818%207.80037%2013.0091%207.94181C13.1364%208.08325%2013.2325%208.24988%2013.2913%208.43087C13.35%208.61187%2013.37%208.80319%2013.3501%208.99243L12.8251%2014.2529C12.8074%2014.4596%2012.7129%2014.6521%2012.5601%2014.7924C12.4073%2014.9327%2012.2075%2015.0105%2012.0001%2015.0105C11.7926%2015.0105%2011.5928%2014.9327%2011.44%2014.7924C11.2872%2014.6521%2011.1927%2014.4596%2011.1751%2014.2529L10.6501%208.99243Z'%20fill='white'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_602_78'%3e%3crect%20width='24'%20height='24'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_602_57)'%3e%3cpath%20d='M6.81%200.219C6.95056%200.0787966%207.14097%204.21785e-05%207.3395%200L16.6605%200C16.859%204.21785e-05%2017.0494%200.0787966%2017.19%200.219L23.781%206.81C23.9212%206.95056%2024%207.14097%2024%207.3395V16.6605C24%2016.859%2023.9212%2017.0494%2023.781%2017.19L17.19%2023.781C17.0494%2023.9212%2016.859%2024%2016.6605%2024H7.3395C7.14097%2024%206.95056%2023.9212%206.81%2023.781L0.219%2017.19C0.0787966%2017.0494%204.21785e-05%2016.859%200%2016.6605L0%207.3395C4.21785e-05%207.14097%200.0787966%206.95056%200.219%206.81L6.81%200.219ZM7.65%201.5L1.5%207.65V16.35L7.65%2022.5H16.35L22.5%2016.35V7.65L16.35%201.5H7.65Z'%20fill='%23FAFAFB'%20/%3e%3cpath%20d='M6.969%206.96912C7.03867%206.89927%207.12143%206.84386%207.21255%206.80605C7.30366%206.76824%207.40135%206.74878%207.5%206.74878C7.59865%206.74878%207.69633%206.76824%207.78745%206.80605C7.87857%206.84386%207.96133%206.89927%208.031%206.96912L12%2010.9396L15.969%206.96912C16.0387%206.89939%2016.1215%206.84407%2016.2126%206.80633C16.3037%206.7686%2016.4014%206.74917%2016.5%206.74917C16.5986%206.74917%2016.6963%206.7686%2016.7874%206.80633C16.8785%206.84407%2016.9613%206.89939%2017.031%206.96912C17.1007%207.03885%2017.156%207.12164%2017.1938%207.21274C17.2315%207.30385%2017.2509%207.4015%2017.2509%207.50012C17.2509%207.59874%2017.2315%207.69639%2017.1938%207.7875C17.156%207.8786%2017.1007%207.96139%2017.031%208.03112L13.0605%2012.0001L17.031%2015.9691C17.1007%2016.0389%2017.156%2016.1216%2017.1938%2016.2127C17.2315%2016.3039%2017.2509%2016.4015%2017.2509%2016.5001C17.2509%2016.5987%2017.2315%2016.6964%2017.1938%2016.7875C17.156%2016.8786%2017.1007%2016.9614%2017.031%2017.0311C16.9613%2017.1009%2016.8785%2017.1562%2016.7874%2017.1939C16.6963%2017.2316%2016.5986%2017.2511%2016.5%2017.2511C16.4014%2017.2511%2016.3037%2017.2316%2016.2126%2017.1939C16.1215%2017.1562%2016.0387%2017.1009%2015.969%2017.0311L12%2013.0606L8.031%2017.0311C7.96127%2017.1009%207.87848%2017.1562%207.78737%2017.1939C7.69626%2017.2316%207.59861%2017.2511%207.5%2017.2511C7.40138%2017.2511%207.30373%2017.2316%207.21262%2017.1939C7.12151%2017.1562%207.03873%2017.1009%206.969%2017.0311C6.89927%2016.9614%206.84395%2016.8786%206.80621%2016.7875C6.76847%2016.6964%206.74905%2016.5987%206.74905%2016.5001C6.74905%2016.4015%206.76847%2016.3039%206.80621%2016.2127C6.84395%2016.1216%206.89927%2016.0389%206.969%2015.9691L10.9395%2012.0001L6.969%208.03112C6.89915%207.96145%206.84374%207.87869%206.80593%207.78757C6.76812%207.69645%206.74866%207.59877%206.74866%207.50012C6.74866%207.40147%206.76812%207.30379%206.80593%207.21267C6.84374%207.12155%206.89915%207.03879%206.969%206.96912Z'%20fill='%23FAFAFB'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_602_57'%3e%3crect%20width='24'%20height='24'%20fill='white'%20/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport refs from \"./refs\";\nimport cautionIcon from '../img/icons/caution.svg';\nimport errorIcon from '../img/icons/error.svg';\n\nexport function clearFilterBtn() {\n    refs.categoriesTumbs.forEach(btn =>\n        btn.classList.remove('categories__thumb--active')\n    );\n}\n\nexport function showLoader() {\n    refs.spinner.classList.remove('loader-box-hidden');\n    hideLoadMoreButton()\n}\n\nexport function hideLoader() {\n    refs.spinner.classList.add('loader-box-hidden');\n}\n\nexport function warningMessage(message) {\n    iziToast.warning({\n        messageColor: '#fff',\n        iconUrl: cautionIcon,\n        iconColor: '#ffffffff',\n        maxWidth: '350px',\n        position: 'topRight',\n        color: '#ffa000',\n        message\n    });\n}\nexport function errorMessage(message) {\n    iziToast.error({\n        messageColor: '#fff',\n        iconColor: '#fff',\n        maxWidth: '350px',\n        iconUrl: errorIcon,\n        position: 'topRight',\n        color: '#ef4040',\n        message\n    });\n}\n\n\nexport function smoothScrollLoadMore() {\n    const galleryCard = document.querySelector('.furnitures__item');\n\n    if (!galleryCard) return;\n\n    const cardHeight = galleryCard.getBoundingClientRect().height;\n\n    window.scrollBy({\n        top: cardHeight * 2,\n        behavior: 'smooth'\n    });\n}\n\nexport function lastPage(data) {\n    if (Number(data.page) * Number(data.limit) >= data.totalItems) {\n        hideLoadMoreButton();\n    } else {\n        showLoadMoreButton();\n    }\n}\n\nexport function lastPageMessage(data) {\n    if (Number(data.page) * Number(data.limit) >= data.totalItems) {\n        warningMessage(\"Усі меблі завантажено!\");\n        hideLoadMoreButton();\n    } else {\n        showLoadMoreButton();\n    }\n}\n\n\nexport function showLoadMoreButton() {\n    refs.loadMoreBtn.classList.remove('is-hidden');\n};\nexport function hideLoadMoreButton() {\n    refs.loadMoreBtn.classList.add('is-hidden');\n};\n\n","import { furnitureModalMarkup } from \"./render-functions\";\nimport refs from \"./refs\";\nimport { data } from \"./furniture-data\";\nimport { openOrderModal } from './order-modal';\nimport { warningMessage } from \"./furnitures-helpers\";\n\n\n\n\nrefs.modalCloseBtn.addEventListener(\"click\", closeModal);\nrefs.modal.addEventListener(\"click\", (event) => {\n    if (event.target === refs.modal) closeModal();\n});\n\n\nexport async function openModal(event) {\n\n    const btn = event.target.closest('.furnitures__details-btn');\n    if (!btn) return;\n\n    const furnitureItem = btn.closest('.furnitures__item');\n    if (!furnitureItem) return;\n\n    document.body.classList.add('body--no-scroll');\n\n    const currentFurniture = furnitureItem.dataset.id;\n    const furniture = data.find(({ _id }) => _id === currentFurniture);\n\n    refs.modalFurniture.innerHTML = furnitureModalMarkup(furniture);\n    refs.modal.classList.add(\"modal--is-open\");\n\n    document.addEventListener(\"keydown\", handleEscKey);\n\n    //-------------------------------------rate\n    document.querySelectorAll('.rating').forEach(el => {\n        const rate = parseFloat(el.dataset.rate);\n        const percent = (rate / 5) * 100;\n        el.style.setProperty('--rating-percent', `${percent}%`);\n    });\n\n}\n\nexport function closeModal() {\n    refs.modal.classList.remove(\"modal--is-open\");\n    refs.modalFurniture.innerHTML = \"\";\n\n    document.removeEventListener(\"keydown\", handleEscKey);\n    document.body.classList.remove('body--no-scroll');\n\n}\n\nexport function handleEscKey(event) {\n    if (event.key === \"Escape\") {\n        closeModal()\n    };\n}\n\nrefs.modalFurniture.addEventListener('click', event => {\n    const btn = event.target.closest('.modal-furniture__btn');\n    if (!btn) return;\n\n    document.body.classList.add('body--no-scroll');\n\n    const selectedColorInput = btn\n        .closest('.modal-furniture')\n        .querySelector('input[name=\"color\"]:checked');\n\n    if (!selectedColorInput) {\n        warningMessage('Будь ласка, оберіть колір перед замовленням!')\n        return;\n    } else {\n        const modelId = btn.dataset.modelId;\n        const color = selectedColorInput.value;\n\n        openOrderModal(modelId, color);\n        closeModal();\n    }\n\n\n});\n","import axios from 'axios';\n\nexport const getCategoryList = async () => {\n    const response = await axios.get('https://furniture-store.b.goit.study/api/categories');\n    return response.data;\n}\n\nexport const getFurnitures = async (page = 1) => {\n\n    const response = await axios.get('https://furniture-store.b.goit.study/api/furnitures', {\n        params: {\n            limit: 8,\n            page\n        }\n    })\n    return response.data;\n}\n\nexport const getFurnitureByCategory = async (category, page = 1) => {\n\n    const response = await axios.get(`https://furniture-store.b.goit.study/api/furnitures`, {\n        params: {\n            category,\n            limit: 8,\n            page\n        }\n    })\n    return response.data;\n}","import { getFurnitureByCategory, getFurnitures } from \"./furnitures-api\";\nimport { clearFilterBtn, errorMessage, hideLoader, lastPage, lastPageMessage, showLoader, smoothScrollLoadMore, warningMessage } from \"./furnitures-helpers\";\nimport { furnituresCardMarkup } from \"./render-functions\";\nimport { data } from \"./furniture-data\";\nimport refs from \"./refs\";\n\nlet page = 1;\nlet currentCategoryId = null;\n\n\nexport async function handlerCategoriesFilter(event) {\n    const target = event.target.closest('li');\n    if (!target) return;\n\n    const selectedThumb = target.querySelector('.categories__thumb');\n    if (selectedThumb.classList.contains('categories__thumb--active')) return;\n\n    page = 1;\n    data.length = 0;\n    showLoader();\n\n    clearFilterBtn();\n    selectedThumb.classList.add('categories__thumb--active');\n\n    currentCategoryId = target.querySelector('.categories__item__name')?.dataset.id || null;\n\n    try {\n        const filteredData = currentCategoryId && currentCategoryId !== '1'\n            ? await getFurnitureByCategory(currentCategoryId, page)\n            : await getFurnitures(page);\n        if (filteredData.furnitures.length === 0) {\n            warningMessage(\"Sorry, there are no furnitures.\")\n            return;\n        }\n\n        refs.furnitures.innerHTML = furnituresCardMarkup(filteredData.furnitures);\n        data.push(...filteredData.furnitures);\n        lastPage(filteredData);\n\n    } catch (error) {\n        errorMessage(`Помилка при завантаженні меблів по категоріях: ${error}`);\n    } finally {\n        hideLoader();\n    }\n}\n\n\nexport async function onLoadMore() {\n    page++;\n    showLoader();\n\n    try {\n        const filteredData = currentCategoryId && currentCategoryId !== '1'\n            ? await getFurnitureByCategory(currentCategoryId, page)\n            : await getFurnitures(page);\n\n        if (filteredData.furnitures.length === 0) {\n            warningMessage(\"Sorry, there are no furnitures.\")\n            return;\n        }\n\n        refs.furnitures.insertAdjacentHTML('beforeend', furnituresCardMarkup(filteredData.furnitures));\n        data.push(...filteredData.furnitures);\n        smoothScrollLoadMore();\n        lastPageMessage(filteredData);\n\n    } catch (error) {\n        errorMessage(`Помилка при завантаженні додаткових меблів: ${error}`);\n    } finally {\n        hideLoader();\n    }\n}","import { openModal } from \"./furniture-modal\";\nimport { getCategoryList, getFurnitures } from \"./furnitures-api\";\nimport { handlerCategoriesFilter, onLoadMore } from \"./furnitures-handlers\";\nimport { hideLoader, showLoader, errorMessage, showLoadMoreButton, lastPageMessage } from \"./furnitures-helpers\";\nimport { categoriesItemRender, furnituresCardMarkup } from \"./render-functions\";\nimport refs from \"./refs\";\nimport { data } from \"./furniture-data\";\n\n\n\n\nrefs.categories.addEventListener('click', handlerCategoriesFilter);\nrefs.furnitures.addEventListener('click', openModal);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nasync function initPage() {\n    showLoader();\n    try {\n        const categoryList = await getCategoryList();\n        const allCategories = [{ _id: 1, name: 'Всі товари' }, ...categoryList];\n        categoriesItemRender(allCategories);\n    } catch (error) {\n        errorMessage(`Помилка при отриманні категорій: ${error}`)\n    } finally {\n        hideLoader();\n    }\n\n    initFurnitures();\n}\n\nasync function initFurnitures() {\n    showLoader();\n\n    try {\n        const furnitures = await getFurnitures();\n        data.push(...furnitures.furnitures);\n        refs.furnitures.innerHTML = furnituresCardMarkup(furnitures.furnitures);\n        lastPageMessage(furnitures);\n    } catch (error) {\n        errorMessage(`Помилка при отриманні меблів: ${error}`)\n    } finally {\n        hideLoader();\n    }\n}\n\ninitPage();","import axios from 'axios';\n\nexport const getFeedback = async (page = 1) => {\n\n    const response = await axios.get('https://furniture-store.b.goit.study/api/feedbacks', {\n        params: {\n            limit: 10,\n            page\n        }\n    });\n\n    return response.data;\n}","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport {getFeedback} from './feedback-api.js';\n\nconst feedbackList = document.querySelector('#feedback-list');\n\nexport async function loadFeedbacks() {\n  try {\n    const response = await getFeedback();\n    const feedbacks = response?.feedbacks || [];\n\n    const limitedFeedbacks = feedbacks.slice(0, 10);\n\n    if (!limitedFeedbacks.length) {\n      feedbackList.innerHTML = '<li class=\"swiper-slide\">Відгуків поки немає.</li>';\n      return;\n    }\n\n    const markup = limitedFeedbacks.map(item => `\n      <li class=\"swiper-slide feedback-item\">\n        <div class=\"feedback-card\">\n          <div class=\"feedback-stars\">\n            ${createStarRating(item.rate)}\n          </div>\n          <p class=\"feedback-text\">\"${item.descr}\"</p>\n          <h3 class=\"feedback-author\">${item.name}</h3>\n        </div>\n      </li>\n    `).join('');\n\n    feedbackList.innerHTML = markup;\n\n    const swiper = new Swiper('.feedback-swiper', {\n      loop: false,\n      spaceBetween: 72,\n      slidesPerView: 1,\n\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 24,\n        },\n        1440: {\n          slidesPerView: 3,\n          spaceBetween: 24,\n        },\n      },\n\n        navigation: {\n          nextEl: '#feedback-next',\n          prevEl: '#feedback-prev',\n      },\n        \n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n          dynamicBullets: true,\n          dynamicMainBullets: 6,\n          watchSlidesProgress: true,\n      },\n        \n        on: {\n          init() {\n            toggleButtons(this);\n          },\n          slideChange() {\n            toggleButtons(this);\n          }\n      }\n    });\n    \n    swiper.pagination.render();\nswiper.pagination.update();\n\n\n    function toggleButtons(swiper) {\n  const prev = document.querySelector('#feedback-prev');\n  const next = document.querySelector('#feedback-next');\n\n  if (swiper.isBeginning) {\n    prev.classList.add('disabled');\n  } else {\n    prev.classList.remove('disabled');\n  }\n\n  if (swiper.isEnd) {\n    next.classList.add('disabled');\n  } else {\n    next.classList.remove('disabled');\n  }\n}\n\n  } catch (err) {\n    console.error('Помилка завантаження відгуків:', err);\n    feedbackList.innerHTML = '<li class=\"swiper-slide\">Не вдалося завантажити відгуки.</li>';\n  }\n}\n\nfunction createStarRating(rate) {\n  const maxStars = 5;\n  const starSize = 20;\n  const viewBoxSize = 32;\n\n  const outerPath = `M7.226 19.717l-2.384 10.323c-0.074 0.313-0.052 0.64 0.064 0.94s0.318 0.558 0.582 0.74\n    c0.264 0.183 0.577 0.281 0.899 0.283s0.635-0.093 0.902-0.273l8.712-5.808 8.712 5.808\n    c0.273 0.181 0.594 0.274 0.921 0.267s0.644-0.114 0.908-0.307c0.264-0.193 0.463-0.462 0.57-0.771\n    s0.116-0.644 0.028-0.959l-2.926-10.24 7.258-6.531c0.232-0.209 0.399-0.482 0.477-0.785\n    s0.068-0.622-0.033-0.918-0.285-0.556-0.532-0.749c-0.247-0.192-0.544-0.308-0.856-0.333\n    l-9.122-0.726-3.947-8.738c-0.126-0.281-0.33-0.52-0.589-0.688s-0.56-0.257-0.868-0.257\n    c-0.308 0-0.61 0.089-0.868 0.257s-0.463 0.407-0.589 0.688l-3.947 8.738-9.122 0.725\n    c-0.306 0.024-0.599 0.136-0.844 0.323s-0.43 0.439-0.534 0.728c-0.104 0.289-0.123 0.602-0.055 0.902\n    s0.223 0.573 0.443 0.788l6.742 6.571z`;\n\n  const innerPath = `M8.7 19.1l-1.9 8.4c-0.06 0.26-0.04 0.53 0.05 0.77s0.26 0.45 0.47 0.6c0.21 0.13 0.46 0.2 0.72 0.2s0.51-0.07 0.73-0.2l7.1-4.7 7.1 4.7c0.22 0.13 0.48 0.2 0.74 0.2s0.53-0.09 0.74-0.26c0.21-0.17 0.37-0.4 0.46-0.67s0.09-0.53 0.02-0.8l-2.3-8.5 6-5.4c0.2-0.18 0.35-0.41 0.42-0.67s0.05-0.53-0.03-0.79-0.25-0.45-0.47-0.6c-0.22-0.14-0.48-0.22-0.75-0.24l-8-0.7-3.5-7.7c-0.12-0.26-0.31-0.48-0.56-0.62s-0.53-0.23-0.82-0.23c-0.29 0-0.58 0.08-0.82 0.23s-0.44 0.34-0.56 0.62l-3.5 7.7-8 0.7c-0.27 0-0.53 0.1-0.75 0.24s-0.37 0.32-0.47 0.53c-0.1 0.21-0.12 0.43-0.05 0.65s0.18 0.4 0.36 0.55l5.5 5.3z`;\n\n  let starsMarkup = '';\n\n  for (let i = 1; i <= maxStars; i++) {\n    let fillPercent = 0;\n\n    if (rate >= i) {\n      fillPercent = 100;\n    } else if (rate > i - 1 && rate < i) {\n      fillPercent = (rate - (i - 1)) * 100;\n    }\n\n    const uniqueId = Math.random().toString(36).slice(2, 8);\n    const clipId = `clip-star-${i}-${uniqueId}`;\n\n    const clipWidth = (fillPercent / 100) * viewBoxSize;\n\n    starsMarkup += `\n<svg class=\"star\" width=\"${starSize}\" height=\"${starSize}\" viewBox=\"-2 -2 36 36\" aria-hidden=\"true\" focusable=\"false\" style=\"vertical-align: middle; margin-right: 4px;\">\n        <defs>\n          <clipPath id=\"${clipId}\">\n            <rect x=\"0\" y=\"0\" width=\"${clipWidth}\" height=\"${viewBoxSize}\"></rect>\n          </clipPath>\n          <filter id=\"glow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" color-interpolation-filters=\"sRGB\">\n            <feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"2\" flood-color=\"gold\" flood-opacity=\"1\"/>\n          </filter>\n        </defs>\n\n        <!-- Outer glowing stroke -->\n        <path d=\"${outerPath}\" fill=\"gold\" stroke=\"gold\" stroke-width=\"1\" filter=\"url(#glow)\" />\n        <!-- Inner stroke -->\n        <path d=\"${innerPath}\" fill=\"rgba(247, 244, 180, 0.94)\" stroke=\"gold\" stroke-width=\"1\"/>\n        <!-- Fill clipped -->\n        <path d=\"${innerPath}\" fill=\"gold\" clip-path=\"url(#${clipId})\" />\n        </svg>\n    `;\n  }\n\n  return starsMarkup;\n}\n\nloadFeedbacks();\n","import axios from 'axios';\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { furnitureModalMarkup } from './render-functions';\nimport refs from './refs';\nimport { popularData } from './furniture-data';\nimport { handleEscKey } from './furniture-modal';\n\nlet currentPage = 1;\nconst limit = 8;\nlet isLoading = false;\nlet isLastPage = false;\nlet swiperInstance = null;\n\nasync function fetchFurnituresData(page = 1, limit = 8, type = 'popular') {\n  try {\n    const response = await axios.get(\n      `https://furniture-store.b.goit.study/api/furnitures?type=${type}&page=${page}&limit=${limit}`\n    );\n    popularData.push(...response.data.furnitures);\n    return response.data;\n  } catch (error) {\n    iziToast.warning({\n      message: `Помилка запиту: ${error.message}`,\n      position: 'topCenter',\n      timeout: 3000,\n    });\n\n    return null;\n  }\n}\n\nfunction createFurnitureMarkup(furnitures) {\n  if (!Array.isArray(furnitures)) return '';\n\n  return furnitures\n    .map(item => {\n      const image = item.images?.[1] || item.images?.[0] || 'default.jpg';\n      const colors = Array.isArray(item.color) ? item.color.slice(0, 3) : [];\n\n      return `\n        <li class=\"furniture-card swiper-slide \" data-id=\"${item._id}\">\n          <div class=\"furniture-card-box-img\">\n            <img class=\"furniture-card-img\" src=\"${image}\" alt=\"${item.name}\" />\n          </div>\n          <div class=\"box__product-card-info\">\n            <p >${item.name}</p>\n            <div class=\"box__color\">\n              ${colors\n                .map(\n                  c =>\n                    `<div class=\"color\" style=\"background-color: ${c}; width: 24px; height: 24px;\"></div>`\n                )\n                .join('')}\n            </div>\n            <p class=\" furniture-price\">${item.price * 42} грн</p>\n          </div>\n          <button class=\"btn__furniture-details-modal furnitures__details-btn  \" type=\"button\">Детальніше</button>\n        </li>\n      `;\n    })\n    .join('');\n}\n\nfunction appendFurnitureMarkup(markup) {\n  const container = document.querySelector('.swiper-wrapper');\n  if (!container) return;\n  container.insertAdjacentHTML('beforeend', markup);\n\n  // Оновлюємо Swiper після додавання нових слайдів\n  if (swiperInstance) {\n    swiperInstance.update();\n  }\n  // Додаємо слухачі на кнопки \"Детальніше\"\n  const detailButtons = container.querySelectorAll(\n    '.btn__furniture-details-modal'\n  );\n  detailButtons.forEach(btn => {\n    btn.addEventListener('click', openModal);\n  });\n}\n\nfunction initSwiper() {\n  swiperInstance = new Swiper('.mySwiper', {\n    slidesPerView: 1,\n    spaceBetween: 16,\n    pagination: {\n      el: '.swiper-pagination',\n      dynamicBullets: true,\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.btn-right',\n      prevEl: '.btn-left',\n      disabledClass: 'swiper-button-disabled',\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 24,\n      },\n      1440: {\n        slidesPerView: 4,\n        spaceBetween: 24,\n      },\n    },\n  });\n}\n\nasync function loadInitialFurniture() {\n  const data = await fetchFurnituresData(currentPage, limit);\n  if (!data || !data.furnitures) return;\n\n  const markup = createFurnitureMarkup(data.furnitures);\n  appendFurnitureMarkup(markup);\n  initSwiper();\n\n  if (data.totalItems <= limit) {\n    isLastPage = true;\n  }\n}\n\nasync function loadNextFurniturePage() {\n  if (isLoading || isLastPage) return;\n\n  isLoading = true;\n  currentPage += 1;\n\n  const data = await fetchFurnituresData(currentPage, limit);\n  if (!data || !data.furnitures || data.furnitures.length === 0) {\n    isLastPage = true;\n    return;\n  }\n\n  const markup = createFurnitureMarkup(data.furnitures);\n  appendFurnitureMarkup(markup);\n  isLoading = false;\n}\n\n// Прив'язуємо завантаження до кнопки .btn-right\ndocument.querySelector('.btn-right').addEventListener('click', () => {\n  loadNextFurniturePage();\n});\n\n// Початкове завантаження\nloadInitialFurniture();\n\nconst listTwo = document.querySelector('.swiper-wrapper');\nlistTwo.addEventListener('click', openModal);\n\nexport async function openModal(event) {\n  const btn = event.target.closest('.btn__furniture-details-modal');\n  if (!btn) return;\n\n  const furnitureItem = btn.closest('.furniture-card');\n  if (!furnitureItem) return;\n\n  document.body.classList.add('body--no-scroll');\n\n  const currentFurniture = furnitureItem.dataset.id;\n  const furniture = popularData.find(({ _id }) => _id === currentFurniture);\n\n  refs.modalFurniture.innerHTML = furnitureModalMarkup(furniture);\n  refs.modal.classList.add('modal--is-open');\n\n  document.addEventListener('keydown', handleEscKey);\n\n  //-------------------------------------rate\n  document.querySelectorAll('.rating').forEach(el => {\n    const rate = parseFloat(el.dataset.rate);\n    const percent = (rate / 5) * 100;\n    el.style.setProperty('--rating-percent', `${percent}%`);\n  });\n}\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport '../css/question.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Accordion('.accordion-container', {\n    duration: 300,\n    showMultiple: false,\n    openOnInit: [],\n  });\n});\n"],"names":["anchor","e","target","mobileMenu","closeMobileMenu","burgerBtn","closeBtn","handleEscape","refs","categoriesItemRender","arr","item","index","category","thumb","markup","furnituresCardMarkup","_id","name","images","price","color","furnitureCardColorListMarkup","furnitureModalMarkup","description","rate","sizes","renderFurnitureGallery","modalColorListMarkup","data","popularData","modal","overlay","form","currentModelId","currentColor","openOrderModal","modelId","handleEscKey","closeOrderModal","email","phone","comment","iziToast","response","error","event","cautionIcon","errorIcon","clearFilterBtn","btn","showLoader","hideLoadMoreButton","hideLoader","warningMessage","message","errorMessage","smoothScrollLoadMore","galleryCard","cardHeight","lastPage","showLoadMoreButton","lastPageMessage","closeModal","openModal","furnitureItem","currentFurniture","furniture","el","percent","selectedColorInput","getCategoryList","axios","getFurnitures","page","getFurnitureByCategory","currentCategoryId","handlerCategoriesFilter","selectedThumb","_a","filteredData","onLoadMore","initPage","categoryList","allCategories","initFurnitures","furnitures","getFeedback","feedbackList","loadFeedbacks","toggleButtons","swiper","prev","next","limitedFeedbacks","createStarRating","Swiper","err","outerPath","innerPath","starsMarkup","i","fillPercent","uniqueId","clipId","clipWidth","currentPage","limit","isLoading","isLastPage","swiperInstance","fetchFurnituresData","type","createFurnitureMarkup","image","_b","colors","c","appendFurnitureMarkup","container","initSwiper","loadInitialFurniture","loadNextFurniturePage","listTwo","Accordion"],"mappings":"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"}